{"version":3,"sources":["config.js","ErrorPupop.jsx","Gif.jsx","HelloWorld.jsx","App.js","index.js"],"names":["CONTRACT_NAME","process","module","exports","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","Error","ErrorPopup","error","callback","closeModal","appear","show","as","Fragment","className","onClose","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Overlay","aria-hidden","Title","type","onClick","gf","GiphyFetch","GifContainer","name","useState","gif","setGif","useAsync","a","random","tag","data","width","HelloWorld","currentUser","contract","isLoading","setIsLoading","setName","message","setMessage","setError","useEffect","get_response","accountId","then","text","console","log","isValidName","value","placeholder","onChange","event","target","disabled","hello_world","err","Gif","App","nearConfig","wallet","src","alt","signOut","window","location","replace","origin","pathname","requestSignIn","getConfig","nearAPI","deps","keyStore","BrowserLocalStorageKeyStore","near","walletConnection","provider","providers","JsonRpcProvider","getAccountId","account","state","amount","balance","viewMethods","changeMethods","sender","transactionByHash","txHash","txStatus","nearInitPromise","initContract","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a639f4cc.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"challenge3.lkskrnk.testnet\";\n\nfunction getConfig(env) {\n  switch (env) {\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n      };\n    // This is an example app so production is set to testnet.\n    // You can move production to mainnet if that is applicable.\n    case \"production\":\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nmodule.exports = getConfig;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Fragment } from \"react\";\n\nexport default function ErrorPopup({ error, callback }) {\n  function closeModal() {\n    callback();\n  }\n\n  return (\n    <>\n      <Transition appear show={error !== \"\"} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={closeModal}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  Opps, something went wrong\n                </Dialog.Title>\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500\">{error}</p>\n                </div>\n\n                <div className=\"mt-4\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n                    onClick={closeModal}\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n}\n","import { GiphyFetch } from \"@giphy/js-fetch-api\";\nimport { Gif } from \"@giphy/react-components\";\nimport { useState } from \"react\";\nimport { useAsync } from \"react-async-hook\";\n\nconst gf = new GiphyFetch(\"oW0VXSxqLF9GYLy5XFqTykhmPXzBvf0A\");\n\nconst GifContainer = ({ name }) => {\n  const [gif, setGif] = useState(null);\n  useAsync(async () => {\n    const { data } = await gf.random({ tag: \"Chuck Norris\" });\n    setGif(data);\n  }, [name]);\n  return (\n    <div className=\"grid grid-cols-1 gap-4\">\n      {gif && <Gif gif={gif} width={800} className=\"mx-auto\" />}\n    </div>\n  );\n};\n\nexport default GifContainer;\n","import { useEffect, useState } from \"react\";\nimport ErrorPopup from \"./ErrorPupop\";\nimport GifContainer from \"./Gif\";\n// import * as googleTTS from \"google-tts-api\";\n\nconst HelloWorld = ({ currentUser, contract }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    contract.get_response({ accountId: currentUser.accountId }).then((text) => {\n      console.log(text);\n      setMessage(text);\n    });\n  });\n\n  // useEffect(() => {\n  //   if (message !== \"\") {\n  //     setIsLoading(true);\n  //     const url = googleTTS.getAudioUrl(message, {\n  //       lang: \"en\",\n  //       slow: false,\n  //       host: \"https://translate.google.com\",\n  //     });\n  //     setIsLoading(false);\n  //     new Audio(url).play();\n  //   }\n  // }, [message]);\n\n  const isValidName = () => name !== \"\";\n\n  const sendMessage = () => {\n    setIsLoading(true);\n    if (isValidName) {\n      contract.hello_world({ name }).then(\n        () => {\n          setIsLoading(false);\n          setName(\"\");\n        },\n        (err) => {\n          setError(`${err}`);\n          setIsLoading(false);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"md:container md:mx-auto\">\n      {isLoading ? (\n        <div className=\"mt-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-20 w-20\"></div>\n      ) : (\n        <div className=\"mt-4 h-20 w-20\"></div>\n      )}\n      <div className=\"grid grid-cols-1 gap-4\">\n        <div>\n          <div className=\"p-8\">\n            <div className=\"uppercase tracking-wide text-sm text-indigo-500 font-semibold\">\n              What's Your Name?!\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <input\n                type=\"text\"\n                className=\"border-2 p-1 border-green-500 rounded\"\n                value={name}\n                placeholder=\"Enter Your Name\"\n                onChange={(event) => setName(event.target.value)}\n              />\n              <button\n                disabled={!isValidName()}\n                className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n                onClick={sendMessage}\n              >\n                Send\n              </button>\n            </div>\n            <ErrorPopup error={error} callback={() => setError(\"\")} />\n          </div>\n        </div>\n      </div>\n      {message && (\n        <div className=\"p-8\">\n          <div className=\"uppercase tracking-wide text-sm text-indigo-500 font-semibold\">\n            CHUCKY SPEAKS:\n          </div>\n          <p className=\"mt-2 mb-5 text-gray-500\">{message}</p>\n          <GifContainer name={name} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HelloWorld;\n","import \"regenerator-runtime/runtime\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport HelloWorld from \"./HelloWorld\";\n\nconst App = ({ contract, currentUser, nearConfig, wallet }) => {\n  const signIn = () => {\n    wallet.requestSignIn(nearConfig.contractName, \"NEAR Hello Chuck App\");\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n  return (\n    <>\n      <div className=\"p-6 max-w-sm mx-auto bg-white rounded-xl shadow-md flex items-center space-x-4\">\n        <div className=\"flex-shrink-0\">\n          <img\n            className=\"h-12 w-24\"\n            src=\"https://docs.near.org/img/near_logo.svg\"\n            alt=\"NEAR Logo\"\n          />\n          {currentUser ? (\n            <button\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n              onClick={signOut}\n            >\n              Log out\n            </button>\n          ) : (\n            <button\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n              onClick={signIn}\n            >\n              Log in\n            </button>\n          )}\n        </div>\n        <div>\n          <div className=\"text-xl font-medium text-black\">Near Hello Chuck</div>\n          {currentUser ? (\n            <div>\n              <p className=\"text-gray-500\">\n                Account ID: {currentUser.accountId}{\" \"}\n              </p>\n            </div>\n          ) : (\n            <div>\n              <p className=\"text-gray-500\">Sign In To Use The App</p>\n            </div>\n          )}\n        </div>\n      </div>\n      {currentUser && (\n        <HelloWorld currentUser={currentUser} contract={contract} />\n      )}\n    </>\n  );\n};\n\nApp.propTypes = {\n  contract: PropTypes.shape({\n    get_response: PropTypes.func.isRequired,\n    hello_world: PropTypes.func.isRequired,\n  }).isRequired,\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired,\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired,\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default App;\n","// src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport getConfig from \"./config.js\";\nimport * as nearAPI from \"near-api-js\";\nimport { providers } from \"near-api-js\";\n\n// Initializing contract\nasync function initContract() {\n  const nearConfig = getConfig(process.env.NODE_ENV || \"testnet\");\n\n  // Initializing connection to the NEAR TestNet\n  const near = await nearAPI.connect({\n    deps: {\n      keyStore: new nearAPI.keyStores.BrowserLocalStorageKeyStore(),\n    },\n    ...nearConfig,\n  });\n\n  // Needed to access wallet\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  const provider = new providers.JsonRpcProvider(nearConfig.nodeUrl);\n\n  // Load in account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      accountId: walletConnection.getAccountId(),\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    walletConnection.account(),\n    nearConfig.contractName,\n    {\n      viewMethods: [\"get_response\"],\n      // Change methods can modify the state, but you don't receive the returned value when called\n      changeMethods: [\"hello_world\"],\n      // Sender is the account ID to initialize transactions.\n      // getAccountId() will return empty string if user is still unauthorized\n      sender: walletConnection.getAccountId(),\n    }\n  );\n\n  const transactionByHash = async (txHash) => {\n    return await provider.txStatus(txHash, currentUser.accountId);\n  };\n\n  return {\n    contract,\n    currentUser,\n    nearConfig,\n    walletConnection,\n    transactionByHash,\n  };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({\n    contract,\n    currentUser,\n    nearConfig,\n    walletConnection,\n    transactionByHash,\n  }) => {\n    ReactDOM.render(\n      <App\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={walletConnection}\n        transactionByHash={transactionByHash}\n      />,\n      document.getElementById(\"root\")\n    );\n  }\n);\n"],"sourceRoot":""}