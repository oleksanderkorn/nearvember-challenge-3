(this["webpackJsonpncd-ii-demo"]=this["webpackJsonpncd-ii-demo"]||[]).push([[0],{109:function(e,t){},137:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n.n(r),a=n(69),s=n(46),o=n(0),i=n(34),l=n.n(i),d=(n(47),n(27)),u=n(140),b=n(139),h=n(1);function j(e){var t=e.error,n=e.callback;function r(){n()}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.a,{appear:!0,show:""!==t,as:o.Fragment,children:Object(h.jsx)(b.a,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:r,children:Object(h.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(h.jsx)(u.a.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(h.jsx)(b.a.Overlay,{className:"fixed inset-0"})}),Object(h.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(h.jsx)(u.a.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(h.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[Object(h.jsx)(b.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Opps, something went wrong"}),Object(h.jsx)("div",{className:"mt-2",children:Object(h.jsx)("p",{className:"text-sm text-gray-500",children:t})}),Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:r,children:"Close"})})]})})]})})})})}var m=function(e){var t=e.currentUser,n=e.contract,r=Object(o.useState)(!1),c=Object(d.a)(r,2),a=c[0],s=c[1],i=Object(o.useState)(""),l=Object(d.a)(i,2),u=l[0],b=l[1],m=Object(o.useState)(""),x=Object(d.a)(m,2),p=x[0],g=x[1],f=Object(o.useState)(""),O=Object(d.a)(f,2),v=O[0],w=O[1];Object(o.useEffect)((function(){n.get_response({accountId:t.accountId}).then((function(e){console.log(e),g(e)}))}));var N=function(){return""!==u};return Object(h.jsxs)("div",{className:"md:container md:mx-auto",children:[a?Object(h.jsx)("div",{className:"mt-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-20 w-20"}):Object(h.jsx)("div",{className:"mt-4 h-20 w-20"}),Object(h.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"p-8",children:[Object(h.jsx)("div",{className:"uppercase tracking-wide text-sm text-indigo-500 font-semibold",children:"What's Your Name?!"}),Object(h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(h.jsx)("input",{type:"text",className:"border-2 p-1 border-green-500 rounded",value:u,placeholder:"Enter Your Name",onChange:function(e){return b(e.target.value)}}),Object(h.jsx)("button",{disabled:!N(),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",onClick:function(){s(!0),N&&n.hello_world({name:u}).then((function(){s(!1),b("")}),(function(e){w("".concat(e)),s(!1)}))},children:"Send"})]}),Object(h.jsx)(j,{error:v,callback:function(){return w("")}})]})})}),p&&Object(h.jsxs)("div",{className:"p-8",children:[Object(h.jsx)("div",{className:"uppercase tracking-wide text-sm text-indigo-500 font-semibold",children:"CHUCKY SPEAKS:"}),Object(h.jsx)("p",{className:"mt-2 text-gray-500",children:p})]})]})},x=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,c=e.wallet;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"p-6 max-w-sm mx-auto bg-white rounded-xl shadow-md flex items-center space-x-4",children:[Object(h.jsxs)("div",{className:"flex-shrink-0",children:[Object(h.jsx)("img",{className:"h-12 w-24",src:"https://docs.near.org/img/near_logo.svg",alt:"NEAR Logo"}),n?Object(h.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){c.signOut(),window.location.replace(window.location.origin+window.location.pathname)},children:"Log out"}):Object(h.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){c.requestSignIn(r.contractName,"NEAR Hello Chuck App")},children:"Log in"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"text-xl font-medium text-black",children:"Near Hello Chuck"}),n?Object(h.jsx)("div",{children:Object(h.jsxs)("p",{className:"text-gray-500",children:["Account ID: ",n.accountId," "]})}):Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"text-gray-500",children:"Sign In To Use The App"})})]})]}),n&&Object(h.jsx)(m,{currentUser:n,contract:t})]})},p=(n(75),n(68)),g=n.n(p),f=n(18);function O(){return(O=Object(s.a)(c.a.mark((function e(){var t,n,r,o,i,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g()("production"),e.next=3,f.connect(Object(a.a)({deps:{keyStore:new f.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(n=e.sent,r=new f.WalletConnection(n),o=new f.providers.JsonRpcProvider(t.nodeUrl),!r.getAccountId()){e.next=12;break}return e.t0=r.getAccountId(),e.next=10,r.account().state();case 10:e.t1=e.sent.amount,i={accountId:e.t0,balance:e.t1};case 12:return e.next=14,new f.Contract(r.account(),t.contractName,{viewMethods:["get_response"],changeMethods:["hello_world"],sender:r.getAccountId()});case 14:return l=e.sent,d=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.txStatus(t,i.accountId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",{contract:l,currentUser:i,nearConfig:t,walletConnection:r,transactionByHash:d});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return O.apply(this,arguments)}().then((function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,c=e.walletConnection,a=e.transactionByHash;l.a.render(Object(h.jsx)(x,{contract:t,currentUser:n,nearConfig:r,wallet:c,transactionByHash:a}),document.getElementById("root"))}))},68:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/nearvember-challenge-3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"challenge3.lkskrnk.testnet";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},75:function(e,t,n){},81:function(e,t){},91:function(e,t){}},[[137,1,2]]]);
//# sourceMappingURL=main.1defea7d.chunk.js.map